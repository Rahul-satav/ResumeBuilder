function computeATSScore(resumeText,currentSkills,jdText){let score=0;const add=n=>score+=n;const txt=(resumeText||'').toLowerCase();if(/\b[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}\b/.test(txt))add(10);if(/\b\+?\d[\d\s-]{6,}\b/.test(txt))add(5);if(/summary|objective/.test(txt))add(10);if(/experience|work history/.test(txt))add(15);if(/skills/.test(txt))add(10);if(/education/.test(txt))add(8);if(/projects?/.test(txt))add(6);const bullets=txt.match(/\â€¢|\-/g);if(bullets&&bullets.length>=5)add(5);const words=txt.split(/\s+/).length;if(words>1000)score-=10;const jdSkills=matchSkillsFromJD(jdText||'');let matches=0;for(const s of jdSkills){if((currentSkills||[]).map(x=>x.toLowerCase()).includes(s.toLowerCase()))matches++}const coverage=jdSkills.length?Math.round((matches/jdSkills.length)*100):0;add(Math.min(20,Math.floor(coverage/5)));score=Math.max(0,Math.min(100,score));return{score,coverage,jdSkills,matches};}